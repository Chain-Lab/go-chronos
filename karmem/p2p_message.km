karmem structs @packed(true) @golang.package(`p2p`);

enum StatusCode uint8 {
    PingMsg;
    PongMsg;
    StatusMsg;
    NewBlockHashesMsg;
    TransactionsMsg;
    GetBlockHeadersMsg;
    BlockHeadersMsg;
    GetBlockBodiesMsg;
    BlockBodiesMsg;
    NewBlockMsg;
    GetNodeDataMsg;
    NodeDataMsg;
    GetReceiptsMsg;
    ReceiptsMsg;
    NewPooledTransactionHashesMsg;
    GetPooledTransactionMsg;
    PooledTransactionsMsg;
    SyncStatusReq;
    SyncStatusMsg;
    SyncGetBlocksMsg;
    SyncBlocksMsg;
    GetBufferedBlocksMsg;
    BufferedBlocksMsg;
}

struct SyncStatusMsg table {
    LatestHeight uint64;
    LatestHash [32]byte;
    BufferedStartHeight uint64;
    BufferedEndHeight uint64;
}

struct Message table {
    Code StatusCode;
    Size uint32;
    Payload []byte;
    ReceiveAt uint32;
}