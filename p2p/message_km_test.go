package p2p

import (
	"encoding/hex"
	"go-chronos/utils"
	"testing"
)

func TestMessageRead(t *testing.T) {
	msg := new(Message)

	//bytes, _ := hex.DecodeString("1900000004f600000020000000f6000000010000000000000000000000000000080000000000000081000000598272375d6de8fe8585eea9265d3523c452e86a6feb48d1f955d1ec416f7b75900000004700000001000000f8b6f59dfdeba9414592c1027ac6e715faa20a2b03c3f99d68762cc0e7f78105cd51523ae7205efc13fa5121d8cf3b010f22bbc1bfd7000000200000000100000000aa91b786010000489e91b7860100000000000000000030450220748623e512f258e54604ff8c73e8fcbfe7fb5bf2fc348b0b1c3bad5c051f9482022100c46e249dcddfd2f397dc568ebf4cb266b315c898a0adb21bba2cfcddd5ef3ec26ea2063542cb5f917a4629f3ad3f149220676b94b8cd656ada913d8915ae07d100")
	bytes, _ := hex.DecodeString("080000000000000081000000e7b2ccfa559a1dc981398b3e809bbac55554de7e729fb43dbcb895925b86fe0f900000004800000001000000f12ee40e2e66fa4b8aaef1f2927a43effe9f214c025f42c16d781eb1d9299361bba7260b2ca2123a0760cd9020d414f395cbfe4ed5d80000002000000001000000ac28a5b786010000f41ca5b786010000000000000000003046022100cefa56d164a8c098e70f0070f88508780b8a923ebfb29a3c6a663220a743aaed022100a653d0786ff3612cb7819dba2f169ff8c3ef99ac731be195b2d46ff9d93d6c829dc04cbc80c8911d6e9c5e2e72cbda7261420b33f258c5857058751d4cbbd2fc")
	tx, _ := utils.DeserializeTransaction(bytes)
	println(hex.EncodeToString(msg.Payload))
	println(hex.EncodeToString(tx.Body.Data))
}
